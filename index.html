<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styleIndex.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <link rel="icon" href="calendario.png" type="image/x-icon">

    <title>Horarios Taller</title>
</head>

<body>

    <nav class="navbar navbar-light colorTituloPrincipal">
        <div class="container-fluid d-flex">
            <a class="navbar-brand mx-auto fs-1 text-white d-flex align-items-center" style="gap: 10px;">
                <i class="fas fa-calendar-days"></i>
                <span>Horarios Mecánicos</span>
                <i class="fas fa-screwdriver"></i>
            </a>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="container mt-3 d-flex" style="width: 100%;">
        <div class="container m-0 mb-3 d-none" style="width: fit-content;" id="techContainer">
            <div class="d-flex text-center mb-3" style="justify-content: center; align-items: center;">
                <h2 class="m-0 d-flex align-items-center">
                    <i class="fa-solid fa-screwdriver-wrench" style="margin-right: 8px;"></i>Mecánicos
                </h2>
                <div style="display: flex; gap: 20px; justify-content: flex-end; width: 220px;">
                    <button class="btn mt-1" style="width: fit-content; height: fit-content; background-color: #48afd8;"
                        id="addTechBtn">
                        <i class="fas fa-plus"></i>
                    </button>
                    <button class="btn mt-1" style="width: fit-content; height: fit-content; background-color: #F4A261;"
                        id="hideBtn">
                        <i class="fas fa-eye"></i>
                    </button>
                </div>
            </div>

            <ul class="list-group">
            </ul>
        </div>

        <div class="container-fluid m-0 border mb-3 p-0 d-flex flex-column Contenedor"
            style="width: 100%; height: calc(100% - 1rem);">
            <!-- Encabezado -->
            <div class="d-flex align-items-center position-relative encabezado colorBanner1">
                <div class="d-flex" style="gap: 10px;">
                    <button class="btn" id="showBtn" style="background-color: #F4A261;">
                        <i class="fas fa-eye-slash"></i>
                    </button>
                    <button class="btn" id="autoBtn" style="background-color: #2A9D8F;">
                        <i class="fas fa-wand-magic-sparkles"></i>
                    </button>
                </div>
                <h2 class="mx-auto text-center">Gestión de Horarios</h2>
                <div class="d-flex" style="gap: 10px;">
                    <button class="btn" id="changeBtn" style="background-color: #4c8ca5;">
                        <i class="fas fa-pen-to-square"></i>
                    </button>
                    <button class="btn btn-success d-none" id="saveBtn">
                        <i class="fas fa-floppy-disk"></i>
                    </button>
                    <button class="btn" id="configBtn" style="background-color: #b8b8b8;" data-bs-toggle="modal"
                        data-bs-target="#colorPickerModal">
                        <i class="fas fa-gear"></i>
                    </button>
                </div>
            </div>

            <div class="flex-grow-1 m-0 p-2 d-flex flex-column" style="gap: 10px;">
                <!-- Barra superior con navegación -->
                <div class="fs-1 d-flex justify-content-between align-items-center p-3 Contenedor colorBanner2">
                    <div class="d-flex" style="gap: 10px;">
                        <button class="btn" id="izqMes" style="background-color: #8b8b8b;">
                            <i class="fas fa-arrow-left"></i>
                        </button>
                        <button class="btn" id="buscarMes" style="background-color: #6CA39F;">
                            <i class="fas fa-magnifying-glass"></i>
                        </button>
                    </div>
                    <h1 id="Mes" class="m-0"></h1>
                    <div class="d-flex" style="gap: 10px;">
                        <button class="btn" id="hoyMes" style="background-color: #6CA39F;">
                            <i class="fas fa-calendar-week"></i>
                        </button>
                        <button class="btn" id="derMes" style="background-color: #8b8b8b;">
                            <i class="fas fa-arrow-right"></i>
                        </button>
                    </div>
                </div>

                <!-- Contenedor principal con las tres secciones -->
                <div class="d-flex flex-grow-1" style="gap: 10px;">
                    <!-- Contenedor de Noches -->
                    <div class="d-flex" style="width: 15%">
                        <div class="d-flex align-items-center Contenedor sinBDer colorBarrasLaterales">
                            <div class="vertical-text ">Noches</div>
                        </div>
                        <div class="d-flex flex-column Contenedor" style="width: 100%;">

                            <div style="margin: 10px;">
                                <div class="LineaHorizontal colorBarras"></div>
                                <div class="d-flex" style="width: 100%; gap: 10px;">
                                    <div class="Contenedor TituloContenedor colorTituloSemana"
                                        style="width: 100%; margin-top: 10px; margin-bottom: 10px;">
                                        Semanas
                                    </div>
                                </div>
                                <div class="LineaHorizontal colorBarras"></div>
                            </div>
                            <div class="flex-grow-1 Contenedor sinBIzq" id="Noches" style="border-top: none;">
                                <div class="Contenedor"
                                    style="background-color: #e0e0e0; padding: 15px; margin: 10px; margin-top: 0;">
                                    <div class="content-text">
                                        Cargando...
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>


                    <!-- Contenedor de Domingos -->
                    <div class="d-flex" style="width: 42.5%">
                        <div class="d-flex align-items-center Contenedor sinBDer colorBarrasLaterales">
                            <div class="vertical-text">Domingos</div>
                        </div>
                        <div class="flex-grow-1 Contenedor sinBIzq">
                            <div style="margin: 10px;">
                                <div class="LineaHorizontal colorBarras"></div>

                                <div class="d-flex"
                                    style="width: 100%; gap: 10px; margin-top: 10px; margin-bottom: 10px;">
                                    <div class="Contenedor TituloContenedor colorTituloTitular">
                                        Titular 6 - 2
                                    </div>
                                    <div class="Contenedor TituloContenedor colorTituloApoyo">
                                        Apoyo 6 - 2
                                    </div>
                                    <div class="LineaVertical colorBarras"></div>
                                    <div class="Contenedor TituloContenedor colorTituloTitular">
                                        Titular 2 - 10
                                    </div>
                                    <div class="Contenedor TituloContenedor colorTituloApoyo">
                                        Apoyo 2 - 10
                                    </div>
                                </div>
                                <div class="LineaHorizontal colorBarras"></div>
                            </div>
                            <div class="flex-grow-1  sinBIzq" id="Domingos">
                                <div class=""
                                    style="background-color: #e0e0e0; padding: 15px; margin: 10px; margin-top: 0; border: 1px solid white; border-radius: 0.25rem;">
                                    <div class="content-text">
                                        Cargando...
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Contenedor de Festivos -->
                    <div class="d-flex" style="width: 42.5%">
                        <div class="d-flex align-items-center Contenedor sinBDer colorBarrasLaterales">
                            <div class="vertical-text">Festivos</div>
                        </div>
                        <div class="flex-grow-1 Contenedor sinBIzq">
                            <div style="margin: 10px;">
                                <div class="LineaHorizontal colorBarras"></div>

                                <div class="d-flex"
                                    style="width: 100%; gap: 10px; margin-top: 10px; margin-bottom: 10px;">
                                    <div class="Contenedor TituloContenedor colorTituloTitular">
                                        Titular 6 - 2
                                    </div>
                                    <div class="Contenedor TituloContenedor colorTituloApoyo">
                                        Apoyo 6 - 2
                                    </div>
                                    <div class="LineaVertical colorBarras"></div>
                                    <div class="Contenedor TituloContenedor colorTituloTitular">
                                        Titular 2 - 10
                                    </div>
                                    <div class="Contenedor TituloContenedor colorTituloApoyo">
                                        Apoyo 2 - 10
                                    </div>
                                </div>
                                <div class="LineaHorizontal colorBarras"></div>
                            </div>
                            <div class="flex-grow-1  sinBIzq" id="Festivos">
                                <div class=""
                                    style="background-color: #e0e0e0; padding: 15px; margin: 10px; margin-top: 0; border: 1px solid white; border-radius: 0.25rem;">
                                    <div class="content-text">
                                        Cargando...
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>


        </div>

    </main>


    <!-- Modal para Seleccionar Mes y Año -->
    <div class="modal fade" id="selectMonthYearModal" tabindex="-1" aria-labelledby="selectMonthYearLabel"
        aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="selectMonthYearLabel">Seleccionar Mes y Año</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="mb-3">
                        <label for="selectMonth" class="form-label">Mes</label>
                        <select class="form-select" id="selectMonth">
                            <option value="01">Enero</option>
                            <option value="02">Febrero</option>
                            <option value="03">Marzo</option>
                            <option value="04">Abril</option>
                            <option value="05">Mayo</option>
                            <option value="06">Junio</option>
                            <option value="07">Julio</option>
                            <option value="08">Agosto</option>
                            <option value="09">Septiembre</option>
                            <option value="10">Octubre</option>
                            <option value="11">Noviembre</option>
                            <option value="12">Diciembre</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label for="selectYear" class="form-label">Año</label>
                        <input type="number" class="form-control" id="selectYear" placeholder="Ingrese el año"
                            min="1900" max="2100">
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                    <button type="button" class="btn btn-primary" id="confirmSelectMonthYear">Aceptar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal para Confirmar Eliminación -->
    <div class="modal fade" id="deleteModal" tabindex="-1" aria-labelledby="deleteModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="deleteModalLabel">Confirmar Eliminación</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    ¿Estás seguro de que deseas eliminar este técnico? Esta acción no se puede deshacer.
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                    <button type="button" class="btn btn-danger" id="confirmDeleteBtn">Eliminar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal para Ingresar Contraseña -->
    <div class="modal fade" id="passwordModal" tabindex="-1" aria-labelledby="passwordModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="passwordModalLabel">Ingresa tu Contraseña</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <input type="password" id="passwordInput" class="form-control" placeholder="Contraseña">
                    <div id="passwordError" class="text-danger mt-2" style="display: none;">Contraseña incorrecta,
                        intenta de nuevo.</div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                    <button type="button" class="btn btn-primary" id="submitPasswordBtn">Aceptar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal configuración -->
    <div class="modal fade" id="colorPickerModal" tabindex="-1" aria-labelledby="colorPickerModalLabel"
        aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="colorPickerModalLabel">Opciones de Color</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="colorPickerForm">
                        <div class="mb-3 d-flex align-items-center justify-content-between">
                            <label for="colorTituloPrincipal" class="form-label">Título Principal</label>
                            <input type="color" class="form-control form-control-color w-auto" id="colorTituloPrincipal"
                                name="tituloPrincipal" value="#000000"
                                style="min-width: 100px; border: 1px solid black;">
                        </div>
                        <div class="mb-3 d-flex align-items-center justify-content-between">
                            <label for="colorBanner1" class="form-label">Banner 1</label>
                            <input type="color" class="form-control form-control-color w-auto" id="colorBanner1"
                                name="banner1" value="#000000" style="min-width: 100px; border: 1px solid black;">
                        </div>
                        <div class="mb-3 d-flex align-items-center justify-content-between">
                            <label for="colorBanner2" class="form-label">Banner 2</label>
                            <input type="color" class="form-control form-control-color w-auto" id="colorBanner2"
                                name="banner2" value="#000000" style="min-width: 100px; border: 1px solid black;">
                        </div>
                        <div class="mb-3 d-flex align-items-center justify-content-between">
                            <label for="colorBarras" class="form-label">Barras</label>
                            <input type="color" class="form-control form-control-color w-auto" id="colorBarras"
                                name="barras" value="#000000" style="min-width: 100px; border: 1px solid black;">
                        </div>
                        <div class="mb-3 d-flex align-items-center justify-content-between">
                            <label for="colorBarrasLaterales" class="form-label">Barras Laterales</label>
                            <input type="color" class="form-control form-control-color w-auto" id="colorBarrasLaterales"
                                name="barrasLaterales" value="#000000"
                                style="min-width: 100px; border: 1px solid black;">
                        </div>
                        <div class="mb-3 d-flex align-items-center justify-content-between">
                            <label for="colorTituloTitular" class="form-label">Título Titular</label>
                            <input type="color" class="form-control form-control-color w-auto" id="colorTituloTitular"
                                name="tituloTitular" value="#000000" style="min-width: 100px; border: 1px solid black;">
                        </div>
                        <div class="mb-3 d-flex align-items-center justify-content-between">
                            <label for="colorTituloApoyo" class="form-label">Título Apoyo</label>
                            <input type="color" class="form-control form-control-color w-auto" id="colorTituloApoyo"
                                name="tituloApoyo" value="#000000" style="min-width: 100px; border: 1px solid black;">
                        </div>
                        <div class="mb-3 d-flex align-items-center justify-content-between">
                            <label for="colorTituloSemana" class="form-label">Título Semana</label>
                            <input type="color" class="form-control form-control-color w-auto" id="colorTituloSemana"
                                name="tituloSemana" value="#000000" style="min-width: 100px; border: 1px solid black;">
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                    <button type="button" class="btn btn-warning" id="resetButton">Restablecer</button>
                    <button type="button" class="btn btn-success" id="confirmButton">Confirmar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal para Agregar Técnico -->
    <div class="modal fade" id="addModal" tabindex="-1" aria-labelledby="addModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="addModalLabel">Agregar Nuevo Técnico</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="mb-3">
                        <label for="nuevoId" class="form-label">ID</label>
                        <input type="text" class="form-control" id="nuevoId" placeholder="ID del técnico">
                    </div>
                    <div class="mb-3">
                        <label for="nuevoNombre" class="form-label">Nombre</label>
                        <input type="text" class="form-control" id="nuevoNombre" placeholder="Nombre del técnico">
                    </div>
                    <div class="mb-3">
                        <label for="nuevoColor" class="form-label">Color</label>
                        <input type="color" class="form-control form-control-color" id="nuevoColor" value="#ff0000">
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                    <button type="button" class="btn btn-primary" id="confirmAddBtn">Agregar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de Alerta -->
    <div class="modal fade" id="alertModal" tabindex="-1" aria-labelledby="alertModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header bg-danger text-white">
                    <h5 class="modal-title" id="alertModalLabel">Error</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    El ID ingresado ya existe. Por favor, elija un ID diferente.
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
        integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"
        integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy"
        crossorigin="anonymous"></script>
    <script src="scriptIndex.js" type="module" defer></script>
</body>

</html>